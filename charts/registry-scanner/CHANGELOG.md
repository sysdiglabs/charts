# Chart: Sysdig Registry Scanner

All notable changes to this chart will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

Please note that it's automatically updated v√≠a github actions.
Manual edits are supported only below '## Change Log' and should be used
exclusively to fix incorrect entries and not to add new ones.

## Change Log
# v1.1.15
### Documentation
* **registry-scanner** [87ba25b6](https://github.com/sysdiglabs/charts/commit/87ba25b630dfe8d838cfd761a80c779faefd38bf): specify the namespace to use during installation ([#1388](https://github.com/sysdiglabs/charts/issues/1388))
# v1.1.14
### Chores
* **registry-scanner** [f83da6c9](https://github.com/sysdiglabs/charts/commit/f83da6c915468f6d8f442c3d971fc3e4296b2d1d): Update to v0.2.53 ([#1425](https://github.com/sysdiglabs/charts/issues/1425))
# v1.1.13
### Chores
* **registry-scanner** [9f3aee7d](https://github.com/sysdiglabs/charts/commit/9f3aee7d85bd420fa61239b965d528be9a583aef): Update to v0.2.51 ([#1419](https://github.com/sysdiglabs/charts/issues/1419))
# v1.1.12
### Bug Fixes
* **registry-scanner** [95340f9b](https://github.com/sysdiglabs/charts/commit/95340f9b730ce58de5e3ec18b190f0e97634c597): properly set vulnerability DB config ([#1417](https://github.com/sysdiglabs/charts/issues/1417))
# v1.1.11
### New Features
* **registry-scanner** [e948b71d](https://github.com/sysdiglabs/charts/commit/e948b71d4a222a5559306b728e6832af2901d4a2): add gar, gcr and nexus support ([#1354](https://github.com/sysdiglabs/charts/issues/1354))
# v1.1.10
# v1.1.9
### Chores
* **registry-scanner** [b9f6b22f](https://github.com/sysdiglabs/charts/commit/b9f6b22fa7743d5f8ef9537c3e408f65a407dd07): Update to v0.2.48 ([#1374](https://github.com/sysdiglabs/charts/issues/1374))
# v1.1.8
* **registry-scanner** Update doc, removing nodeSelector param

# v1.1.7
### Chores
* **registry-scanner** [4b760bf0](https://github.com/sysdiglabs/charts/commit/4b760bf0dcfd7e108f99be3f2eec4eef81a05b74): Update to v0.2.46 ([#1330](https://github.com/sysdiglabs/charts/issues/1330))
# v1.1.6
* **registry-scanner** Add special param to max images
# v1.1.5
### Documentation
* **admission-controller, cluster-scanner, registry-scanner, cloud-connector, node-analyzer, rapid-response, sysdig-deploy, agent** [df733e62](https://github.com/sysdiglabs/charts/commit/df733e6294eae1967197e3521473a5fab0282b67): update maintainers list ([#1283](https://github.com/sysdiglabs/charts/issues/1283))
# v1.1.4
### Documentation
* **registry-scanner** [ea551160](https://github.com/sysdiglabs/charts/commit/ea5511600a50333049584da6a565486dbbd424b8): fix configuration table rendering ([#1282](https://github.com/sysdiglabs/charts/issues/1282))
# v1.1.3
### New Features
* **doc** [2ed2f684](https://github.com/sysdiglabs/charts/commit/2ed2f684eeb573707a0515cafeb053ebb4a3f9d3): Move On-prem deployment instruction to the registry scanner chart ([#1260](https://github.com/sysdiglabs/charts/issues/1260))
# v1.1.2
* feat: Add the ability to work behind a proxy to the new VM Scanner k8s job

# v1.1.1
### Documentation
* **registry-scanner** [bafbaba2](https://github.com/sysdiglabs/charts/commit/bafbaba2d54d0f52ef965ddd3505efd439a6a2c0): DOC-3229 - update for clarity, consistency, correctness ([#1184](https://github.com/sysdiglabs/charts/issues/1184))

# v1.1.0
### New Features
* **admission-controller,agent,cloud-bench,cloud-connector,cloud-scanning,harbor-scanner-sysdig-secure,kspm-collector,node-analyzer,rapid-response,registry-scanner,sysdig,sysdig-deploy,sysdig-mcm-navmenu,sysdig-stackdriver-bridge** [5d99a03d](https://github.com/sysdiglabs/charts/commit/5d99a03dced132b4771dde1ce5b90b63c518b408): use a PGP private key to sign charts on release ([#1170](https://github.com/sysdiglabs/charts/issues/1170))

# v1.0.15
* docs: update some descriptions to camel case to avoid confusion

# v1.0.14
* fix: CVE-2023-2253

# v1.0.13
* chore: adds a filter for aws regions under aws org registry type installation

# v1.0.12
* feat: allow internal ENV var to allow pageSize setup on artifatory client
* feat: inner vm-scanning library bump, to add vulnerability management support for .Net packages and centos OS

# v1.0.11
### Documentation
* **registry-scanner** [53b92bbd](https://github.com/sysdiglabs/charts/commit/53b92bbdd190f041996db20dd65d5a125c049a90): update filter values ([#1116](https://github.com/sysdiglabs/charts/issues/1116))

# v1.0.10
* chore: fix high severity vulnerability
* docs: improve and clarify logs: filtering and scan duration

# v1.0.9
### New Features
* **registry-scanner** [7242c48](https://github.com/sysdiglabs/charts/commit/7242c48f332020e8a2f6cad2b40dd2f1e2a080cb): ttl for orchestrator job ([#1102](https://github.com/sysdiglabs/charts/issues/1102))

# v1.0.8
* feat: hide sensitive data from logs
# v1.0.7
* chore: adds label for orchestrator job
* **registry-scanner**  bumped inner component to v0.2.35
  - add labels for worker job
# v1.0.6
* **registry-scanner**  bumped inner component to v0.2.33
  - chore: add limits to waitgroups
  - logs: clarify skip message and parallelization
# v1.0.5
* **registry-scanner**  bumped inner component to v0.2.32
  - refactor: move code around in packages
  - feat: add support for http registries
  - fix: honor maxRepositoriesPerRegistry on aws org

# v1.0.4
### Chores
* **registry-scanner** [a517e39](https://github.com/sysdiglabs/charts/commit/a517e39659d5449f9efac3bd454dc38a965dfc98): Update to v0.2.31 ([#1057](https://github.com/sysdiglabs/charts/issues/1057))
# v1.0.3
### Chores
* **registry-scanner** [6308c44](https://github.com/sysdiglabs/charts/commit/6308c4431ddf60a20b8a2c6ea7ae210cf7feafe0): Update to v0.2.30 ([#1055](https://github.com/sysdiglabs/charts/issues/1055))
# v1.0.2
### Chores
* **registry-scanner** [a2edae1](https://github.com/sysdiglabs/charts/commit/a2edae1be3045075f555bd02f2fb0e2bbf65ca08): maintenance 2023w16 ([#1051](https://github.com/sysdiglabs/charts/issues/1051))
# v1.0.1
### Chores
* **registry-scanner** [ea54164](https://github.com/sysdiglabs/charts/commit/ea54164cfd96127823129065d750ab9c723884b4): update to v0.2.29 ([#1053](https://github.com/sysdiglabs/charts/issues/1053))
# v1.0.0
### New Features
* **registry-scanner** [5848f76](https://github.com/sysdiglabs/charts/commit/5848f76accea44841bccef7702129b788aea7af9): release 1.0.0 ([#1049](https://github.com/sysdiglabs/charts/issues/1049))
# v0.1.40
### Chores
* **registry-scanner** [fc0a81d](https://github.com/sysdiglabs/charts/commit/fc0a81d2350ae50bd9b5be257db56f1f7f0dabc3): Update to version v0.2.28 ([#1050](https://github.com/sysdiglabs/charts/issues/1050))
# v0.1.39
### New Features
* **registry-scanner** [47eea09](https://github.com/sysdiglabs/charts/commit/47eea099f1dec7676d04d75fe765bd9772a71b72): Update README.md removing old content ([#1036](https://github.com/sysdiglabs/charts/issues/1036))
# v0.1.38
### Bug Fixes
* **admission-controller,agent,node-analyzer,rapid-response,registry-scanner,sysdig** [0bf9682](https://github.com/sysdiglabs/charts/commit/0bf96827ebf80d76aab61b8fa3d26b3903df220b): Improve KubeVersion Comparisons ([#1040](https://github.com/sysdiglabs/charts/issues/1040))
# v0.1.37
### Chores
* **registry-scanner** [7b4a28a](https://github.com/sysdiglabs/charts/commit/7b4a28a4254a68760af579a38bdfa0fede2fc5e0): update to v0.2.27 ([#1043](https://github.com/sysdiglabs/charts/issues/1043))
# v0.1.36
### Chores
* **admission-controller,agent,kspm-collector,node-analyzer,rapid-response,registry-scanner,sysdig-deploy** [7f35eb1](https://github.com/sysdiglabs/charts/commit/7f35eb1f88d93fa59c2839e7fbb756e50a378bea): update helm unittest plugin ([#996](https://github.com/sysdiglabs/charts/issues/996))
# v0.1.35
### Chores
* **registry-scanner** [ab283cb](https://github.com/sysdiglabs/charts/commit/ab283cb8c081841abf6257c030c1e08e33be6b9f): update to v0.2.26 ([#1032](https://github.com/sysdiglabs/charts/issues/1032))
# v0.1.34
### Chores
* **registry-scanner** [2d4c185](https://github.com/sysdiglabs/charts/commit/2d4c185489ff17884b94fa465bd5a7353034d6ee): update to v0.2.25 ([#1030](https://github.com/sysdiglabs/charts/issues/1030))
# v0.1.33
### Chores
* **registry-scanner** [3cd717f](https://github.com/sysdiglabs/charts/commit/3cd717f375203bb9224599a882b329b90bb23955): update to v0.2.24 ([#1028](https://github.com/sysdiglabs/charts/issues/1028))
# v0.1.32
### Chores
* **registry-scanner** [ace6815](https://github.com/sysdiglabs/charts/commit/ace6815ec5f4bf6e628a434d9ffbee5bca716c4e): update to v0.2.23 ([#1027](https://github.com/sysdiglabs/charts/issues/1027))
# v0.1.31
### New Features
* **registry-scanner** [4d25160](https://github.com/sysdiglabs/charts/commit/4d2516082e24cabd4bd0c95c36652c6fa3eb46b0): Add possibility to use service account instead of creds ([#1025](https://github.com/sysdiglabs/charts/issues/1025))
# v0.1.30
### New Features
* **registry-scanner** [2133ce8](https://github.com/sysdiglabs/charts/commit/2133ce86603c5a7442848301f4cb9acc3d2e086f): Add config value for tmp volume size limit ([#1016](https://github.com/sysdiglabs/charts/issues/1016))
# v0.1.29
### Chores
* [bdaf2cd](https://github.com/sysdiglabs/charts/commit/bdaf2cd6d967ba9d7ed7372f4da3dcb49d5c7acf): bumps registry scanner to 0.2.19 ([#1012](https://github.com/sysdiglabs/charts/issues/1012))
# v0.1.28
### New Features
* **registry-scanner** [88053c7](https://github.com/sysdiglabs/charts/commit/88053c7a7e719c6b00e575c535275a19f0710a16): adds k8jobs-options ([#997](https://github.com/sysdiglabs/charts/issues/997))
# v0.1.27
### New Features
* **registry-scanner** [368a628](https://github.com/sysdiglabs/charts/commit/368a6282fa1da32fa0b2debb8a8902a87b9932d9): add extraEnvVars ([#994](https://github.com/sysdiglabs/charts/issues/994))
# v0.1.26
### Chores
* **registry-scanner** [c3130ad](https://github.com/sysdiglabs/charts/commit/c3130adb2cbdd31bce58cb7aa6e04d875e4816b9): filters review ([#985](https://github.com/sysdiglabs/charts/issues/985))
# v0.1.25
### Documentation
* **registry-scanner** [2aa4c30](https://github.com/sysdiglabs/charts/commit/2aa4c30adf5369a8a21438c6f1d5ca666a896d45): updating ca-certs usage from object to list ([#992](https://github.com/sysdiglabs/charts/issues/992))
# v0.1.24
### New Features
* **registry-scanner** [4de03a5](https://github.com/sysdiglabs/charts/commit/4de03a52683242f40e4a475f5250ce80e0674294): add ca certs support ([#988](https://github.com/sysdiglabs/charts/issues/988))
# v0.1.22
### New Features
* [3475c7a](https://github.com/sysdiglabs/charts/commit/3475c7aa1580ada2e10ba728565f81d2a55fcbdd): update rs ([#986](https://github.com/sysdiglabs/charts/issues/986))
# v0.1.21
### New Features
* [e0bc897](https://github.com/sysdiglabs/charts/commit/e0bc897a5d04bf4f217113ddba89093fd7a9d33f): add new vendors support ([#984](https://github.com/sysdiglabs/charts/issues/984))
# v0.1.20
### Bug Fixes
* **registry-scanner** [1f464c9](https://github.com/sysdiglabs/charts/commit/1f464c948bcedae60545579a2fa8e3923af657fd): bump 2.0.10 to recover stdout logs ([#978](https://github.com/sysdiglabs/charts/issues/978))
# v0.1.19
### Bug Fixes
* **registry-scanner** [990ad5f](https://github.com/sysdiglabs/charts/commit/990ad5f97a4619c3a2928be67beb3ca302386467): insecure tls connections ([#972](https://github.com/sysdiglabs/charts/issues/972))
# v0.1.18
### Bug Fixes
* **registry-scanner** [ef5bb18](https://github.com/sysdiglabs/charts/commit/ef5bb18f06ab9ea03eb5d13a4be1d2da58c49d3f): fix installation in EKS ([#969](https://github.com/sysdiglabs/charts/issues/969))
# v0.1.17
# v0.1.16
# v0.1.15
# v0.1.14
# v0.1.13
### Chores
* **registry-scanner** [f182507](https://github.com/sysdiglabs/charts/commit/f182507d3a81154978a49bd0f1eaa25555d2d332): tests and logs ([#951](https://github.com/sysdiglabs/charts/issues/951))
# v0.1.12
### New Features
* **registry-scanner,ci** [901981f](https://github.com/sysdiglabs/charts/commit/901981fd4931bffac2236bb26aa9837d942ca6b9): add test for registry-scanner ([#947](https://github.com/sysdiglabs/charts/issues/947))
# v0.1.11
### New Features
* **registry-scanner** [9d26281](https://github.com/sysdiglabs/charts/commit/9d262815a76e1ea37377ed895d2732bb686be48f): add scanOnStart ([#949](https://github.com/sysdiglabs/charts/issues/949))
# v0.1.10
### New Features
* **registry-scanner** [bb1e039](https://github.com/sysdiglabs/charts/commit/bb1e0392124130d2df2242c6ae8b015300a65ec3): add logging ([#943](https://github.com/sysdiglabs/charts/issues/943))
# v0.1.9
### Bug Fixes
* **registry-scanner** [e033969](https://github.com/sysdiglabs/charts/commit/e0339692514de08cbcff7a34cb78d99507e355ca): fix if exist memberAccountsRoleName ([#942](https://github.com/sysdiglabs/charts/issues/942))
# v0.1.8
### New Features
* **registry-scanner** [e76c266](https://github.com/sysdiglabs/charts/commit/e76c26685d9b22a060fe5aff859c12612644a5bf): add options for ecr organization custom setup ([#929](https://github.com/sysdiglabs/charts/issues/929))
# v0.1.7

### Chores
* **registry-scanner** [6450b90](https://github.com/sysdiglabs/charts/commit/6450b9080f3de6b03c3c1b1eeabf0c7770063d73): bump registry scanner image version  to 0.2.3, which includes

#### Performance optimizations
* feat: Update CC so we have image cache by @tembleking in https://github.com/sysdiglabs/registry-scanner/pull/87
* perf: Implement parallelization in metadata retrieval by @tembleking in https://github.com/sysdiglabs/registry-scanner/pull/91

#### Bug fixes
* fix(aws-ecr): region fetch from registry url by @wideawakening in https://github.com/sysdiglabs/registry-scanner/pull/89

# v0.1.6
### Documentation
* **registry-scanner** [95495b8](https://github.com/sysdiglabs/charts/commit/95495b84911d63c69401ec96aad9a194bf939983): fix value documentation ([#902](https://github.com/sysdiglabs/charts/issues/902))
# v0.1.5
### Chores
* **registry-scanner** [6e4eb50](https://github.com/sysdiglabs/charts/commit/6e4eb50f4ddec185cabac4a892d978c55d927231): bump registry scanner image version ([#856](https://github.com/sysdiglabs/charts/issues/856))
# v0.1.4
### Chores
* **registry-scanner** [6450b90](https://github.com/sysdiglabs/charts/commit/6450b9080f3de6b03c3c1b1eeabf0c7770063d73): bump registry scanner image version ([#833](https://github.com/sysdiglabs/charts/issues/833))
# v0.1.3
### Chores
* **registry-scanner** [df88b05](https://github.com/sysdiglabs/charts/commit/df88b05aff423e11b3b2fa7fb8e27598e23e7785): Update default cronjob schedule to 6AM on Saturdays ([#830](https://github.com/sysdiglabs/charts/issues/830))
# v0.1.2
### Documentation
* **registry-scanner** [496466e](https://github.com/sysdiglabs/charts/commit/496466e333330ae479bba17f2ce224af7c822e07): auto generate documentation file readme ([#806](https://github.com/sysdiglabs/charts/issues/806))
# v0.1.1
### New Features
* [f4cb189](https://github.com/sysdiglabs/charts/commit/f4cb189afba6833fd458f99dcfcc0121f9d9dfa2)]: unify changelog headers ([#787](https://github.com/sysdiglabs/charts/issues/787))

## v0.1.0

### Major changes

* Bump registry-scanner version to 0.2.0:
  - Append https in artifactory api url if user doesn't specify protocol
  - Update artifactory authentication method to not increment downloads counter (See https://www.jfrog.com/confluence/display/JFROG/Artifactory+REST+API#ArtifactoryRESTAPI-RetrieveArtifact)
  - Add ECR as new registry type supported

## v0.0.36

* Enhance chart documentation

## v0.0.35

### Minor changes

* Bump registry-scanner version to 0.1.11 (Update gem deps)
* Experimental an unsupported feature to activate the new vm beta image scanning

## v0.0.34

### Minor changes

* Removed trailing spaces

## v0.0.33

### Minor changes

* Bump registry-scanner version to 0.1.9 (fix memory leak issue)

## v0.0.32

### Minor changes

* Fix duplicate labels in the CronJob template (thanks @firaxis)

## v0.0.31

### Minor changes

* Bump registry-scanner version to 0.1.8:
* Fix a race condition when using multiple workers

## v0.0.30

### Minor changes

* Bump registry-scanner version to 0.1.7:
  * Support insecure registries

## v0.0.29

### Minor changes

* Bump registry-scanner version to 0.1.6:
  * Include break down of policies, stops and warns in report
  * Do not stop the scanning if the retrieval of a single image tag fails
  * Fix: artifactory auth if api are on a different subdomain

## v0.0.28

### Minor changes

* Bump registry-scanner version to 0.1.5
* Add ssl.ca.certs option to provide custom rootCA's to be trusted

## v0.0.27

### Minor changes

* Bump registry-scanner version to 0.1.4
* Add custom labels option to provide labels that will be add to k8s manifests
* Add securityContext option to configure security context for inline scanner container

## v0.0.26

### Minor changes

* Bump registry-scanner version to 0.1.3


## v0.0.25

### Minor changes

* Bump registry-scanner version to 0.1.1

## v0.0.24

### Minor changes

* Bump registry-scanner version to 0.1.0

## v0.0.23

### Minor changes

* Bump registry-scanner version to 0.0.9
* Propagate imagePullSecrets to the scan.pullSecrets option for inline-scanner

## v0.0.22

### Minor changes

* Bump registry-scanner version to 0.0.8

## v0.0.21

### Minor changes

* Bump registry-scanner version to 0.0.7
* Add options `config.registryType` and `config.registryAccountId` for ICR

## v0.0.20

### Minor changes

* Bump registry-scanner version to 0.0.6

## v0.0.19

### Minor changes

* Bump registry-scanner version to 0.0.5

## v0.0.18

### Minor changes

* Bump registry-scanner version to 0.0.4

##¬†v0.0.17

### Minor changes

* Use batch/v1 API for kubernetes 1.21 or higher

## v0.0.16

### Minor changes

* Bump registry-scanner version to 0.0.3

## v0.0.15

### Minor changes

* New option `reportToPersistentVolumeClaim` to write the JSON report to a persistent volume claim.

## v0.0.14

### Minor changes

* Option `config.scan.inlineScanImage` to override inline scanner image (i.e. air gap environments)
* Bump registry-scanner version to 0.0.2
* Use Kubernetes Job smaller registry-scanner image
* Use batch/v1 instead of batch/v1beta1 for Kubernetes 1.21+

## v0.0.13

### Minor changes

* Use a fixed registry-scanner version (appVersion in chart.yaml) instead of latest

## v0.0.12

### Fixes

* Fix docker.io always preprended to inage name

###¬†Minor changes

* Report required values with an error message using `required`

## v0.0.11

### Minor changes

* Use image from quay.io/sysdig/registry-scanner and tag `latest` instead of `master`

## v0.0.10

### Minor changes

* Update registryApiUrl description in values.yaml

## v0.0.9

### Minor changes

* Typos in README

## v0.0.8

### Minor changes

* New option `config.registryApiUrl` to define the Artifactory docker API as it is exposed at a different endpoint

## v0.0.7

### Minor changes

* New option `existingSecretName` to use existing or external secret

## v0.0.5

### Minor changes

* Remove `config.reEvaluate` option

## v0.0.4

### Minor changes

Internal CI changes

## v0.0.3

### Minor changes

* Add `config.reEvaluate` option
* Add proxy settings in values.yaml

## v0.0.2

### Minor changes

* Fixes in README

## v0.0.1

Initial release
